# Парсер информации о судебных делах с sudrf.ru
[![Discourse topics](https://img.shields.io/badge/License-GPLv3-orange)](https://www.gnu.org/licenses/gpl-3.0) 

Задача парсера состоит в том, чтобы собирать информацию о судебных делах и наличии запланированных заседаний по этим делам со всех существующих в РФ судов.
Парсер является асинхронным, помимо сбора информации, в решенные задачи входит автоматическое решение капчи, при помощи предобученной нейросети с [данного сайта](https://auth.zennolab.com), 
а также интеграция парсера с сервисом [Бипиум](https://bpium.ru/) и написание для него LowCode скриптов для обработки информации непосредственно на самом сервисе. 


## Описание настроечных файлов парсера:
### [MainConfig.ini - файл с основными настройками]
При изменении настроек программу перезапускать необязательно.

template_name - имя шаблона запуска
csv_or_bipium - указание куда записывать данные(варианты: excel, bipium)
semaphore - количество потоков для сбора ссылок(0 - определяется автоматически)
browsers - количество браузеров, не может быть больше количества прокси(0 - автоматически принимает значение количества прокси)
pages - количество открываемых страниц в каждом браузере(рекомендуется оставлять 1, иначе могут банить прокси)
headless - скрытый режим работы браузера(on/off)
start_time - время в которое парсер будет запускаться, указывается в формате ЧЧ:ММ через запятую, например: 01:20, 09:00, 15:00
stop_dates - даты в которые парсер не запускается, указывается в формате ДД.ММ.ГГГГ через запятую, например: 24.11.2023, 26.11.2023
start_now - запускает парсер прямо сейчас и меняет значение этого параметра на off (on/off)

Пример ссылки на каталог Бипиум: https://template.bpium.ru/#/section/2/catalog/14/view/0/records?sortField=3&sortType=1
bipium_catalog - номер каталога в ссылке '/catalog/14/view/' - 14, ссответственно ставим 14
bipium_domain - название указанное при создании каталога, в ссылке - template
bipium_login - логин от аккаунта бипиум
bipium_password - пароль от аккаунта бипиум
capmonster_token - токен для сервиса капчи

### [bipium_keys.json - файл с указаниями номеров столбцов в Бипиуме]

При создании, при редактировании разным столбцам даются разные номера, найти их можно при открытии редактирования полей(Настроить поля), выбираете поле и увидите указанный API-ключ слева от поля.
В таблице Бипиума можно называть поля как угодно, в самом файле менять их нельзя, просто выставляйте напротив колонки соответствующий ей номер API-ключа из таблицы Бипиума, учтите, что при изменении колонки в Бипиуме, ее API-ключ меняется, также при создании таблицы столбец 'Информация по делу дожен иметь тип 'Многострочный текст', 'Дата' должна иметь тип 'Дата', а 'Дата сборки' - тип 'Дата' с галочкой на пункте 'По умолчанию: текущая дата', остальные столбцы должны иметь тип 'Текст'


### [exception_words.json - файл с словами исключениями для определения ФИО]
При добавлении слов желательно учитывать, если это слово обычно имеет пробел перед собой или после себя, то пробел также ставить, например "ПАО ", " Прокуратура", регистр слов не важен, слова должны быть в двойных кавычках через запятые.



### [proxies.json - файл для указания прокси]
В файле уже есть прокси, новые указывать по подобию, в фигурных скобках разделяя запятыми.



### [templates.json - файл с шаблонами]
В файле есть примеры, создавать новые шаблоны согласно им.
Структура шаблона:
	"Имя шаблона":
		{"regions":  - указываются регионы для парсинга, если оставить пустым = все регионы
			{
			    "Регион 1": ["Город1", "Город2"],
			    "Регион 2": []
			}
		 "days": "5, -2, 4" - указываются дни для парсинга через запятую
		 "articles": "22.1ч.2, 55.1ч.5" - указываются статьи для парсинга через запятую, в статьях не должно быть пробелов, "all" = не учитывая номер статей
		},
	"Имя второго шаблона": ......
